# üß™ Casos de Teste - Registro de Empresa

## ‚úÖ Caso de Teste 1: Petrobras (Empresa Real)

### Dados da Empresa
- **Nome da Empresa:** PETROLEO BRASILEIRO SA PETROBRAS
- **CNPJ:** 33000167000101
- **CNPJ Formatado:** 33.000.167/0001-01
- **Nota:** Nome oficial sem acentos, pontos ou h√≠fens (formato Receita Federal)
- **Tipo:** Client
- **Modelo de Neg√≥cio:** MainCompany

### Dados do Administrador
- **Nome:** Jo√£o Silva Santos
- **CPF:** 123.456.789-09 (CPF v√°lido para testes)
- **Data de Nascimento:** 1990-01-15 (Formato: AAAA-MM-DD)
- **Email:** joao.silva@petrobras.com.br
- **Senha:** Petro@2024
- **Confirmar Senha:** Petro@2024

### Dados de Contato
- **Telefone Celular:** (21) 98765-4321
- **Telefone Fixo:** (21) 3224-1234

### Endere√ßo (CEP da sede Petrobras - Rio de Janeiro)
- **CEP:** 20031-912
- **Rua:** Avenida Rep√∫blica do Chile (ser√° preenchido automaticamente)
- **N√∫mero:** 65
- **Complemento:** 20¬∫ andar
- **Bairro:** Centro (ser√° preenchido automaticamente)
- **Cidade:** Rio de Janeiro (ser√° preenchido automaticamente)
- **Estado:** RJ (ser√° preenchido automaticamente)
- **Pa√≠s:** Brasil (ser√° preenchido automaticamente)

### Termos
- ‚úÖ Aceito os termos de uso e pol√≠tica de privacidade

---

## ‚úÖ Caso de Teste 2: Magazine Luiza (Empresa Real)

### Dados da Empresa
- **Nome da Empresa:** MAGAZINE LUIZA SA
- **CNPJ:** 47960950000121
- **CNPJ Formatado:** 47.960.950/0001-21
- **Nota:** Nome oficial sem pontos (formato Receita Federal)
- **Tipo:** Client
- **Modelo de Neg√≥cio:** MainCompany

### Dados do Administrador
- **Nome:** Maria Oliveira Costa
- **CPF:** 987.654.321-00 (CPF v√°lido para testes)
- **Data de Nascimento:** 1985-05-20
- **Email:** maria.costa@magazineluiza.com.br
- **Senha:** Magalu@2024
- **Confirmar Senha:** Magalu@2024

### Dados de Contato
- **Telefone Celular:** (11) 99876-5432
- **Telefone Fixo:** (11) 3234-5678

### Endere√ßo (CEP da sede Magazine Luiza - Franca/SP)
- **CEP:** 14406-900
- **Rua:** Rua Volunt√°rios de Franca (ser√° preenchido automaticamente)
- **N√∫mero:** 1465
- **Complemento:** Edif√≠cio Luiza Trajano
- **Bairro:** Jardim Brasil√¢ndia (ser√° preenchido automaticamente)
- **Cidade:** Franca (ser√° preenchido automaticamente)
- **Estado:** SP (ser√° preenchido automaticamente)
- **Pa√≠s:** Brasil (ser√° preenchido automaticamente)

### Termos
- ‚úÖ Aceito os termos de uso e pol√≠tica de privacidade

---

## ‚úÖ Caso de Teste 3: Banco do Brasil (Empresa Real)

### Dados da Empresa
- **Nome da Empresa:** BANCO DO BRASIL SA
- **CNPJ:** 00000000000191
- **CNPJ Formatado:** 00.000.000/0001-91
- **Nota:** Nome oficial sem pontos (formato Receita Federal)
- **Tipo:** Client
- **Modelo de Neg√≥cio:** MainCompany

### Dados do Administrador
- **Nome:** Carlos Eduardo Ferreira
- **CPF:** 111.222.333-96 (CPF v√°lido para testes)
- **Data de Nascimento:** 1980-03-10
- **Email:** carlos.ferreira@bb.com.br
- **Senha:** BancoBB@2024
- **Confirmar Senha:** BancoBB@2024

### Dados de Contato
- **Telefone Celular:** (61) 98888-7777
- **Telefone Fixo:** (61) 3310-1234

### Endere√ßo (CEP da sede Banco do Brasil - Bras√≠lia/DF)
- **CEP:** 70040-912
- **Rua:** SAUN Quadra 5 Lote B (ser√° preenchido automaticamente)
- **N√∫mero:** Torre I
- **Complemento:** Ed. Sede I
- **Bairro:** Asa Norte (ser√° preenchido automaticamente)
- **Cidade:** Bras√≠lia (ser√° preenchido automaticamente)
- **Estado:** DF (ser√° preenchido automaticamente)
- **Pa√≠s:** Brasil (ser√° preenchido automaticamente)

### Termos
- ‚úÖ Aceito os termos de uso e pol√≠tica de privacidade

---

## ‚úÖ Caso de Teste 4: Natura Cosm√©ticos (Empresa Real)

### Dados da Empresa
- **Nome da Empresa:** NATURA COSMETICOS SA
- **CNPJ:** 71673990000177
- **CNPJ Formatado:** 71.673.990/0001-77
- **Nota:** Nome oficial sem acentos e pontos (formato Receita Federal)
- **Tipo:** Client
- **Modelo de Neg√≥cio:** MainCompany

### Dados do Administrador
- **Nome:** Ana Paula Mendes
- **CPF:** 444.555.666-27 (CPF v√°lido para testes)
- **Data de Nascimento:** 1992-08-25
- **Email:** ana.mendes@natura.com.br
- **Senha:** Natura@2024
- **Confirmar Senha:** Natura@2024

### Dados de Contato
- **Telefone Celular:** (11) 97777-6666
- **Telefone Fixo:** (11) 4196-0123

### Endere√ßo (CEP da sede Natura - Cajamar/SP)
- **CEP:** 07750-000
- **Rua:** Avenida Alexandre Colares (ser√° preenchido automaticamente)
- **N√∫mero:** 1188
- **Complemento:** Edif√≠cio Cristiano Burani Franco
- **Bairro:** Vila Jaguara (ser√° preenchido automaticamente)
- **Cidade:** Cajamar (ser√° preenchido automaticamente)
- **Estado:** SP (ser√° preenchido automaticamente)
- **Pa√≠s:** Brasil (ser√° preenchido automaticamente)

### Termos
- ‚úÖ Aceito os termos de uso e pol√≠tica de privacidade

---

## ‚úÖ Caso de Teste 5: Ambev (Empresa Real)

### Dados da Empresa
- **Nome da Empresa:** AMBEV SA
- **CNPJ:** 07526557000100
- **CNPJ Formatado:** 07.526.557/0001-00
- **Nota:** Nome oficial sem pontos (formato Receita Federal)
- **Tipo:** Client
- **Modelo de Neg√≥cio:** MainCompany

### Dados do Administrador
- **Nome:** Roberto Almeida Junior
- **CPF:** 777.888.999-40 (CPF v√°lido para testes)
- **Data de Nascimento:** 1988-11-30
- **Email:** roberto.almeida@ambev.com.br
- **Senha:** Ambev@2024
- **Confirmar Senha:** Ambev@2024

### Dados de Contato
- **Telefone Celular:** (11) 96666-5555
- **Telefone Fixo:** (11) 2122-1234

### Endere√ßo (CEP da sede Ambev - S√£o Paulo/SP)
- **CEP:** 01310-100
- **Rua:** Avenida Paulista (ser√° preenchido automaticamente)
- **N√∫mero:** 1842
- **Complemento:** Torre Norte - 16¬∫ andar
- **Bairro:** Bela Vista (ser√° preenchido automaticamente)
- **Cidade:** S√£o Paulo (ser√° preenchido automaticamente)
- **Estado:** SP (ser√° preenchido automaticamente)
- **Pa√≠s:** Brasil (ser√° preenchido automaticamente)

### Termos
- ‚úÖ Aceito os termos de uso e pol√≠tica de privacidade

---

## üìù Instru√ß√µes para Teste

### Passo 1: Acessar a P√°gina de Registro
```
http://localhost:3000/registro
```

### Passo 2: Preencher Dados da Empresa
1. Digite o **Nome da Empresa** exatamente como especificado
2. Digite o **CNPJ** (sem formata√ß√£o, apenas n√∫meros)
3. Digite o **Email** do administrador
4. Digite os **Telefones** (celular e fixo opcionais)

### Passo 3: Preencher Dados do Administrador
1. Digite o **Nome do Administrador**
2. Digite o **CPF do Administrador** (com ou sem formata√ß√£o)
3. Selecione a **Data de Nascimento** (deve ter entre 18 e 120 anos)
4. Digite a **Senha** (deve conter pelo menos 8 caracteres, 1 mai√∫scula, 1 min√∫scula, 1 n√∫mero)
5. **Confirme a Senha**

### Passo 4: Preencher Endere√ßo
1. Digite o **CEP** e aguarde o preenchimento autom√°tico
2. Verifique se os campos foram preenchidos corretamente
3. Digite o **N√∫mero** do endere√ßo
4. Digite o **Complemento** (opcional)
5. Ajuste qualquer campo se necess√°rio

### Passo 5: Aceitar Termos
1. Marque a caixa ‚úÖ **"Aceito os termos de uso e pol√≠tica de privacidade"**
2. Sistema enviar√° automaticamente vers√µes dos termos: **1.0** (Termos de Uso) e **1.0** (Pol√≠tica de Privacidade)

### Passo 6: Criar Conta
1. Clique no bot√£o **"Criar Conta"**
2. Aguarde o processamento
3. Verifique a mensagem de sucesso
4. Ser√° redirecionado para `/entrar` ap√≥s 2 segundos

---

## ‚úÖ Valida√ß√µes Esperadas

### Frontend (Antes de enviar)
- ‚úÖ CNPJ com 14 d√≠gitos e d√≠gitos verificadores v√°lidos
- ‚úÖ CPF com 11 d√≠gitos e d√≠gitos verificadores v√°lidos
- ‚úÖ Email em formato v√°lido
- ‚úÖ Senha com pelo menos 8 caracteres, 1 mai√∫scula, 1 min√∫scula, 1 n√∫mero
- ‚úÖ Senha e Confirmar Senha devem ser iguais
- ‚úÖ Termos devem estar aceitos (envia vers√µes automaticamente)
- ‚úÖ CEP deve buscar endere√ßo automaticamente

### Backend (Ao processar)
- ‚úÖ CNPJ validado na Receita Federal
- ‚úÖ Nome da empresa comparado com Receita Federal (similaridade)
- ‚úÖ CPF √∫nico no sistema (ser√° criptografado)
- ‚úÖ Email √∫nico no sistema
- ‚úÖ CNPJ √∫nico no sistema
- ‚úÖ Vers√µes dos termos aceitas registradas
- ‚úÖ Cria√ß√£o da empresa pai
- ‚úÖ Cria√ß√£o do usu√°rio dono com role=1 (DonoEmpresaPai)
- ‚úÖ Envio de email de boas-vindas

---

## üéØ Resultado Esperado

### Sucesso:
```
‚úÖ "Registro realizado com sucesso! Voc√™ ser√° redirecionado para o login."
```

### Poss√≠veis Erros:

#### 1. CNPJ j√° cadastrado:
```
‚ùå "CNPJ j√° cadastrado no sistema"
```

#### 2. Email j√° cadastrado:
```
‚ùå "Email j√° cadastrado no sistema"
```

#### 3. Diverg√™ncia de Raz√£o Social:
```
‚ö†Ô∏è "A Raz√£o Social informada diverge da registrada na Receita Federal"
Raz√£o Social Informada: [nome digitado]
Raz√£o Social na Receita: [nome oficial]
```
**Solu√ß√£o:** Ajustar o nome da empresa para corresponder exatamente ao da Receita Federal.

#### 4. CNPJ inv√°lido:
```
‚ùå "CNPJ inv√°lido ou n√£o encontrado na Receita Federal"
```

---

## üîç Observa√ß√µes Importantes

1. **CNPJs Reais:** Todos os CNPJs listados s√£o de empresas reais e p√∫blicas
2. **Valida√ß√£o na Receita:** O backend validar√° o CNPJ na Receita Federal
3. **Nome Oficial:** Use o nome EXATAMENTE como aparece na Receita Federal (sem acentos, pontos, h√≠fens)
   - ‚úÖ CORRETO: `BANCO DO BRASIL SA`
   - ‚ùå ERRADO: `Banco do Brasil S.A.`
4. **Similaridade do Nome:** O backend compara com 85% de similaridade, mas √© melhor usar o nome exato
5. **CEP Autom√°tico:** Ao digitar o CEP, o sistema buscar√° automaticamente o endere√ßo na API ViaCEP
6. **Emails de Teste:** Use emails fict√≠cios para teste (n√£o use emails reais dessas empresas)
7. **Ambiente de Teste:** Recomendado usar ambiente de desenvolvimento/homologa√ß√£o

---

## üìä Checklist de Testes

- [ ] Valida√ß√£o de CNPJ (formato e d√≠gitos verificadores)
- [ ] Valida√ß√£o de CPF (formato e d√≠gitos verificadores)
- [ ] Busca autom√°tica de endere√ßo por CEP
- [ ] Valida√ß√£o de senha forte
- [ ] Confirma√ß√£o de senha (match)
- [ ] Aceita√ß√£o obrigat√≥ria de termos (com vers√µes)
- [ ] Mensagem de erro para CNPJ duplicado
- [ ] Mensagem de erro para CPF duplicado
- [ ] Mensagem de erro para email duplicado
- [ ] Integra√ß√£o com Receita Federal (valida√ß√£o CNPJ)
- [ ] Compara√ß√£o de raz√£o social com Receita
- [ ] Cria√ß√£o bem-sucedida de empresa + usu√°rio dono
- [ ] Redirecionamento para tela de login ap√≥s sucesso
- [ ] Envio de email de boas-vindas (se configurado)

---

## üöÄ Casos de Uso Adicionais

### Teste de Valida√ß√£o de CEP
Use CEPs v√°lidos de diferentes regi√µes:
- **S√£o Paulo:** 01310-100, 04543-907, 05508-000
- **Rio de Janeiro:** 20031-912, 22640-100, 21941-590
- **Bras√≠lia:** 70040-912, 71010-050, 72220-900
- **Curitiba:** 80010-000, 80230-010, 82520-000
- **Porto Alegre:** 90010-000, 90050-170, 91410-000

### Teste de Empresas Menores
Voc√™ tamb√©m pode testar com CNPJs de empresas menores (MEI, ME, EPP) se tiver acesso aos dados reais.

---

## üìû Suporte

Em caso de erros inesperados:
1. Verifique o console do navegador (F12)
2. Verifique os logs do servidor backend
3. Confirme se a API da Receita Federal est√° acess√≠vel
4. Confirme se a API ViaCEP est√° acess√≠vel (https://viacep.com.br)
